(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"034f":function(e,t,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"0560":function(e,t,a){},"073f":function(e,t,a){"use strict";var s=a("2b08"),i=a.n(s);i.a},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},"2b08":function(e,t,a){},"2eda":function(e,t,a){},3:function(e,t){},"3a62":function(e,t,a){},4:function(e,t){},"4cd1":function(e,t,a){},"4fef":function(e,t,a){"use strict";var s=a("ae09"),i=a.n(s);i.a},5:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r={name:"App",components:{},created:function(){}},o=r,c=(a("034f"),a("2877")),l=Object(c["a"])(o,i,n,!1,null,null,null),d=l.exports,u=a("8c4f"),m=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},p=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"media bg-light border-bottom border-secondary"},[a("img",{staticClass:"mr-3",attrs:{src:"byouosmm4ckz.png",alt:"Generic placeholder image"}}),a("div",{staticClass:"media-body"},[a("div",{staticClass:"article-metadata"},[a("a",{staticClass:"mr-2",attrs:{href:"username_url"}},[e._v("username")]),a("small",{staticClass:"text-muted"},[e._v("21.11.2077")]),a("div",[a("a",{staticClass:"btn btn-secondary btn-sm mt-1 mb-1",attrs:{href:"download_request"}},[e._v("Download")]),a("a",{staticClass:"btn btn-success btn-sm mt-1 mb-1",attrs:{href:"approve_request"}},[e._v("Approve")]),a("a",{staticClass:"btn btn-danger btn-sm mt-1 mb-1",attrs:{href:"reject_request"}},[e._v("Reject")])])]),a("h5",{staticClass:"mt-0 mb-1"},[e._v("Media heading")]),e._v(" Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus. ")])]),a("li",{staticClass:"media bg-light border-bottom border-secondary"},[a("img",{staticClass:"mr-3",attrs:{src:"byouosmm4ckz.png",alt:"Generic placeholder image"}}),a("div",{staticClass:"media-body"},[a("div",{staticClass:"article-metadata"},[a("a",{staticClass:"mr-2",attrs:{href:"username_url"}},[e._v("username")]),a("small",{staticClass:"text-muted"},[e._v("21.11.2077")]),a("div",[a("a",{staticClass:"btn btn-secondary btn-sm mt-1 mb-1",attrs:{href:"download_request"}},[e._v("Download")]),a("a",{staticClass:"btn btn-success btn-sm mt-1 mb-1",attrs:{href:"approve_request"}},[e._v("Approve")]),a("a",{staticClass:"btn btn-danger btn-sm mt-1 mb-1",attrs:{href:"reject_request"}},[e._v("Reject")])])]),a("h5",{staticClass:"mt-0 mb-1"},[e._v("Media heading")]),e._v(" Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus. ")])])])])])}],v={name:"v-uploads"},h=v,f=Object(c["a"])(h,m,p,!1,null,"5660b8a2",null),g=f.exports,b=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-fluid"},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"media bg-light border-bottom border-secondary"},[a("img",{staticClass:"mr-3",attrs:{src:"byouosmm4ckz.png",alt:"Generic placeholder image"}}),a("div",{staticClass:"media-body"},[a("div",{staticClass:"article-metadata"},[a("a",{staticClass:"mr-2",attrs:{href:"username_url"}},[e._v("username")]),a("div",[a("a",{staticClass:"btn btn-success btn-sm mt-1 mb-1",attrs:{href:"add_user_request"}},[e._v("Confirm")]),a("a",{staticClass:"btn btn-danger btn-sm mt-1 mb-1",attrs:{href:"do_not_add_user_request"}},[e._v("Refuse")])])]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("Bachelor degree")]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("2 year")]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("Computer Science track")])])]),a("li",{staticClass:"media bg-light border-bottom border-secondary"},[a("img",{staticClass:"mr-3",attrs:{src:"byouosmm4ckz.png",alt:"Generic placeholder image"}}),a("div",{staticClass:"media-body"},[a("div",{staticClass:"article-metadata"},[a("a",{staticClass:"mr-2",attrs:{href:"username_url"}},[e._v("username")]),a("div",[a("a",{staticClass:"btn btn-success btn-sm mt-1 mb-1",attrs:{href:"add_user_request"}},[e._v("Confirm")]),a("a",{staticClass:"btn btn-danger btn-sm mt-1 mb-1",attrs:{href:"do_not_add_user_request"}},[e._v("Refuse")])])]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("Bachelor degree")]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("2 year")]),a("h6",{staticClass:"mt-0 mb-1"},[e._v("Computer Science track")])])])])])])}],w={name:"v-users"},C=w,k=Object(c["a"])(C,b,_,!1,null,"0d1edda3",null),y=k.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-wrapper"},[a("v-header"),a("v-home")],1)},N=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-header"},[a("header",{staticClass:"site-header"},[a("nav",{staticClass:"navbar navbar-expand-md navbar-dark fixed-top"},[a("div",{staticClass:"container"},[a("button",{staticClass:"upload-icon"}),a("div",{staticClass:"digital_library-home"},[a("router-link",{attrs:{to:{name:"home"}}},[a("a",{staticClass:"navbar-brand mr-4 header-font-size no-outline"},[e._v("Digital Library")])])],1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarToggle"}},[a("div",{staticClass:"form-search"},[a("div",{staticClass:"search-block"},[a("button",{staticClass:"search-icon",on:{click:function(t){return e.search(e.searchArg)}}}),a("label",{staticClass:"label-search",attrs:{for:"input-search"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchArg,expression:"searchArg"}],attrs:{type:"text",required:"",id:"input-search"},domProps:{value:e.searchArg},on:{input:function(t){t.target.composing||(e.searchArg=t.target.value)}}})])]),a("div",{staticClass:"navbar-nav profile"},[a("div",{staticClass:"name-profile nav-link header-font-size"},[e._v(" "+e._s(e.userName)+" "),a("div",{staticClass:"dropdown-profile"},[e.isAuthenticated?a("div",{staticClass:"list-item-profile"},[a("p",{staticClass:"list-item-text"},[a("router-link",{attrs:{to:{name:"profile"}}},[e._v("My profile")])],1)]):e._e(),e.isAuthenticated?e._e():a("div",{staticClass:"list-item-profile"},[a("p",{staticClass:"list-item-text"},[a("router-link",{attrs:{to:{name:"login"}}},[e._v("Sign in")])],1)]),e.isAuthenticated?e._e():a("div",{staticClass:"list-item-profile-last"},[a("p",{staticClass:"list-item-text"},[a("router-link",{attrs:{to:{name:"registration"}}},[e._v("Sign up")])],1)]),e.isAuthenticated?a("div",{staticClass:"list-item-profile"},[a("p",{staticClass:"list-item-text"},[a("router-link",{attrs:{to:{name:"contribute"}}},[e._v("Contribute")])],1)]):e._e(),e.isAuthenticated?a("div",{staticClass:"list-item-last"},[a("a",{staticClass:"list-item-text",on:{click:function(t){return e.logout()}}},[e._v("Log out")])]):e._e()])]),a("img",{staticClass:"avatar",attrs:{alt:""}})])])])])])])},D=[],j=a("5530"),O=a("2f62"),S={name:"v-header",data:function(){return{searchArg:"",elements:[]}},computed:Object(j["a"])(Object(j["a"])(Object(j["a"])({},Object(O["d"])({info:"informationAboutMe",documents:"documents"})),Object(O["c"])(["isAuthenticated"])),{},{userName:function(){return void 0===this.info?"":this.info.first_name+" "+this.info.last_name||""}}),watch:{info:function(e){document.querySelector(".avatar").src=e.image}},activated:function(){this.$store.dispatch("getInfo")},created:function(){this.$store.dispatch("getInfo")},methods:{logout:function(){this.$store.dispatch("logout")},search:function(e){var t={tags:[],title:e};this.$store.dispatch("search",t)}}},T=S,$=(a("6c61"),Object(c["a"])(T,P,D,!1,null,"40b4073b",null)),E=$.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-home"},[a("div",{staticClass:"left-block"},[a("v-list",{staticClass:"v-list"})],1),a("div",{staticClass:"right-block"},[a("v-info",{staticClass:"v-info"})],1)])},q=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"info-top"},[a("div",{staticClass:"info-tabs"},[a("ul",{staticClass:"nav nav-tabs"},e._l(e.tabs,(function(t){return a("li",{key:t.title,staticClass:"disabled",class:{active:t.active}},[a("a",{on:{click:function(a){return e.activate(t.title)}}},[e._v(" "+e._s(t.title)+" ")]),a("button",{staticClass:"close-icon",on:{click:function(a){return e.closeButton(t.title)}}},[e._v(" × ")])])})),0)])]),a("div",{staticClass:"document-block"},[a("v-document")],1)])},R=[],L=(a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-document"},[a("div",{staticClass:"top-page-control"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.typeLink,expression:"!typeLink"}],staticClass:"page-control"},[a("button",{staticClass:"prev-button no-outline",on:{click:function(t){return e.onPrevPage()}}}),a("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:e.pageNum,expression:"pageNum",modifiers:{lazy:!0,number:!0}}],attrs:{type:"number",value:"1",min:"1",max:"10000"},domProps:{value:e.pageNum},on:{change:[function(t){e.pageNum=e._n(t.target.value)},function(t){return e.changePage(e.pageNum)}],blur:function(t){return e.$forceUpdate()}}}),a("p",{staticClass:"page-control-text get-rid-of-margins"},[e._v("/"+e._s(e.pageMax))]),a("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:e.scale,expression:"scale",modifiers:{lazy:!0,number:!0}}],attrs:{type:"number",value:"1",min:"1",max:"10000"},domProps:{value:e.scale},on:{change:[function(t){e.scale=e._n(t.target.value)},function(t){return e.changeScale(e.scale)}],blur:function(t){return e.$forceUpdate()}}}),a("p",{staticClass:"page-control-text get-rid-of-margins"},[e._v("%")]),a("button",{staticClass:"next-button no-outline",on:{click:function(t){return e.onNextPage()}}})]),a("div",{staticClass:"rating"},[a("p",{staticClass:"page-control-text"},[e._v(e._s(e.rating))]),a("button",{staticClass:"comments-icon no-outline",on:{click:function(t){return e.dropdownComments()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dropdown,expression:"dropdown"}],staticClass:"dropdown-comments"},[a("div",{staticClass:"comments"},e._l(e.comments,(function(t){return a("div",{key:t.id,staticClass:"comment"},[a("div",{staticClass:"comment-avatar"},[a("img",{staticClass:"avatar",attrs:{src:"https://digital-library-iu.herokuapp.com"+t.user.image,alt:""}})]),a("div",{staticClass:"comment-block"},[a("p",{staticClass:"list-item-text-search-bold"},[e._v(e._s(t.user.first_name+" "+t.user.last_name))]),a("p",{staticClass:"list-item-text-search"},[e._v(e._s(t.content))]),a("p",{staticClass:"comments-reply list-item-text-search-bold"},[e._v("Reply")])])])})),0),a("div",{staticClass:"comments-add-block"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"comments-add",attrs:{rows:"5",placeholder:"Add a comment"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),a("button",{staticClass:"comments-add-button",on:{click:function(t){return e.createMessage()}}})])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.typeLink,expression:"!typeLink"}],staticClass:"pdf-document"},[a("canvas",{attrs:{id:"the-canvas"}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.typeLink,expression:"typeLink"}],staticClass:"pdf-document"},[a("a",{staticClass:"link-to-see",attrs:{href:e.doc.link}},[e._v(e._s(e.doc.link))])]),a("div",{staticClass:"document-title-block"},[a("p",{staticClass:"document-title"},[e._v(e._s(e.doc.title))])])])}),U=[],M=a("9511"),z={name:"v-content",data:function(){return{message:"",dropdown:!1,scale:100,pdf:void 0,pages:[],pageRendering:!1,pageNumPending:null,pageMax:1,pageNum:1}},computed:Object(j["a"])(Object(j["a"])({},Object(O["d"])({doc:"currentDoc",comm:"currentComments"})),{},{typeLink:function(){return"link"===this.doc.type},url:function(){return"link"===this.doc.type?"":"https://digital-library-iu.herokuapp.com"+this.doc.file||!1},comments:function(){return this.comm||[]},rating:function(){return this.doc.rating||void 0}}),watch:{url:function(e){this.$store.dispatch("getComments",this.doc.id),this.pageNum=this.doc.pageNum||1,""!==e&&this.fetchPDF(e)}},methods:{createMessage:function(){var e={content:this.message,id:this.doc.id};this.$store.dispatch("createComment",e),this.message=""},dropdownComments:function(){this.dropdown?document.querySelector(".rating").style.borderBottomLeftRadius="2vh":document.querySelector(".rating").style.borderBottomLeftRadius=0,this.dropdown=!this.dropdown},changeScale:function(e){this.renderPage(this.pageNum)},changePage:function(e){this.renderPage(this.pageNum)},fetchPDF:function(e){var t=this;M["GlobalWorkerOptions"].workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(M["version"],"/pdf.worker.js"),M["getDocument"](e).promise.then((function(e){t.pdf&&t.pdf.destroy(),t.pdf=e,t.pageMax=t.pdf.numPages,t.renderPage(t.pageNum)}))},renderPage:function(e){var t=this;this.pageRendering=!0;var a=document.getElementById("the-canvas"),s=a.getContext("2d");this.pdf.getPage(e).then((function(e){var i=e.getViewport({scale:t.scale/100});a.height=i.height,a.width=i.width;var n=e.render({canvasContext:s,viewport:i});n.promise.then((function(){t.pageRendering=!1,null!==t.pageNumPending&&(t.renderPage(t.pageNumPending),t.pageNumPending=null)}))}))},queueRenderPage:function(e){this.pageRendering?this.pageNumPending=e:this.renderPage(e)},onPrevPage:function(){this.pageNum<=1||(this.$store.state.currentDoc.pageNum--,this.pageNum--,this.queueRenderPage(this.pageNum))},onNextPage:function(){this.pageNum>=this.pageMax||(this.$store.state.currentDoc.pageNum++,this.pageNum++,this.queueRenderPage(this.pageNum))}}},B=z,F=(a("073f"),Object(c["a"])(B,L,U,!1,null,"afbc0870",null)),V=F.exports,J={name:"v-info",components:{vDocument:V},computed:Object(j["a"])({},Object(O["d"])({tabs:"openedDocuments"})),methods:Object(j["a"])(Object(j["a"])({},Object(O["b"])({close:"closeDocument",active:"activateTab",open:"getDocument"})),{},{closeButton:function(e){this.close(e)},activate:function(e){this.active(e)},getDisplayTitle:function(e){var t=e;return t.length>22&&(t=t.slice(0,19),t+="..."),t}})},G=J,H=(a("8018"),Object(c["a"])(G,I,R,!1,null,"7128daf8",null)),W=H.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"list-wrapper"},e._l(e.docs,(function(t,s){return a("div",{key:t.title,staticClass:"list-item",on:{click:function(a){return e.openItem(t,s)}}},[a("div",{staticClass:"list-item-icon",class:{"list-item-icon-document":"document"===t.type,"list-item-icon-video":"video"===t.type,"list-item-icon-link":"link"===t.type,"list-item-icon-folder":"folder"===t.type,"list-item-icon-image":"image"===t.type}}),a("p",{staticClass:"list-item-text"},[e._v(e._s(t.title))])])})),0),a("div",{staticClass:"navigation-bottom"},[a("router-link",{staticClass:"navigation-bottom-link",attrs:{to:{name:"about_us"}}},[e._v("About us")]),a("br"),a("router-link",{staticClass:"navigation-bottom-link",attrs:{to:{name:"documentation"}}},[e._v("Documentation")]),a("br"),a("router-link",{staticClass:"navigation-bottom-link",attrs:{to:{name:"contacts"}}},[e._v("Contacts")])],1)])},Q=[],X=(a("a623"),{name:"v-list",data:function(){return{}},methods:Object(j["a"])({openTh:function(e){this.$store.dispatch("openFolder",e)},openItem:function(e,t){"folder"===e.type&&this.openTh(e),this.openedDocuments.every((function(t){return t.id!==e.id}))&&this.open(e),this.activateTab(e.title)}},Object(O["b"])({open:"openDocument",activateTab:"activateTab",getList:"getList"})),created:function(){this.getList(),this.$store.dispatch("getThematicalPages")},activated:function(){this.getList()},computed:Object(j["a"])(Object(j["a"])({},Object(O["d"])({documents:"documents",openedDocuments:"openedDocuments",documentsInTh:"documentsInTh"})),{},{docs:function(){return this.documents}}),watch:{}}),Y=X,Z=(a("4fef"),Object(c["a"])(Y,K,Q,!1,null,"6477ea16",null)),ee=Z.exports,te={name:"v-home",components:{vInfo:W,vList:ee}},ae=te,se=Object(c["a"])(ae,A,q,!1,null,"27b94d98",null),ie=se.exports,ne={name:"v-wrapper",components:{vHeader:E,vHome:ie}},re=ne,oe=Object(c["a"])(re,x,N,!1,null,"44490384",null),ce=oe.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-light"},[a("div",{staticClass:"container"},[e._m(0),e._m(1),a("div",{staticClass:"row"},[e._m(2),a("div",{staticClass:"col-md-12 order-md-1"},[a("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"firstName"}},[e._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{type:"text",id:"firstName",placeholder:"",required:""},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Valid first name is required. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"middleName"}},[e._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.middle_name,expression:"middle_name"}],staticClass:"form-control",attrs:{type:"text",id:"middleName",placeholder:""},domProps:{value:e.middle_name},on:{input:function(t){t.target.composing||(e.middle_name=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Valid middle name is required. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"lastName"}},[e._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{type:"text",id:"lastName",placeholder:"",required:""},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Valid last name is required. ")])])]),a("div",{staticClass:"mb-3"},[e._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"you@innopolis.university",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please enter a valid email address. ")])]),a("div",{staticClass:"mb-3"},[e._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please enter your password. ")])]),a("div",{staticClass:"mb-3"},[e._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:e.re_password,expression:"re_password"}],staticClass:"form-control",attrs:{type:"password",id:"password-repeat",placeholder:"",required:""},domProps:{value:e.re_password},on:{input:function(t){t.target.composing||(e.re_password=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please repeat your password. ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"degree"}},[e._v("Degree")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.degree,expression:"degree"}],staticClass:"custom-select d-block w-100",attrs:{id:"degree",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.degree=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",[e._v("Bachelor")]),a("option",[e._v("Master")]),a("option",[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select your degree. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"course"}},[e._v("Course")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.course,expression:"course"}],staticClass:"custom-select d-block w-100",attrs:{id:"course",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.course=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach||e.degree_mas,expression:"degree_bach || degree_mas"}]},[e._v("1")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach||e.degree_mas,expression:"degree_bach || degree_mas"}]},[e._v("2")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&!e.degree_mas,expression:"degree_bach && !degree_mas"}]},[e._v("3")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&!e.degree_mas,expression:"degree_bach && !degree_mas"}]},[e._v("4")]),a("option",{directives:[{name:"show",rawName:"v-show",value:!e.degree_bach&&!e.degree_mas,expression:"!degree_bach && !degree_mas"}]},[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please provide your number of course. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"track"}},[e._v("Track")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.track,expression:"track"}],staticClass:"custom-select d-block w-100",attrs:{id:"track",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.track=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course<3&&!e.degree_mas,expression:"(degree_bach && course < 3) && !degree_mas"}]},[e._v("Computer Science")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Robotics")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Data Science")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Software Engineering")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Security and Network Engineering")]),a("option",{directives:[{name:"show",rawName:"v-show",value:!e.degree_bach&&!e.degree_mas,expression:"!degree_bach && !degree_mas"}]},[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please provide your track. ")])]),a("hr",{staticClass:"mb-4"}),a("div",{staticClass:"pb-2 mb-4 mx-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"mb-3"},[a("button",{staticClass:"btn btn-lg btn-primary btn-block orange-btn",on:{click:function(t){return e.onSubmit()}}},[e._v("Registrate")])]),a("div",{staticClass:"ml-3"}),a("div",{staticClass:"col-ml-3"},[a("small",{staticClass:"text-muted"},[e._v("Already have an account?")]),a("br"),a("a",{staticClass:"signup-btn",staticStyle:{"margin-left":"0px"},on:{click:function(t){return e.go_to_login()}}},[e._v("Sign In now")])])])])])])])])])])},de=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"pt-5 mx-auto text-center"},[a("h2",[e._v("Welcome to Digital Library!")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"pb-2 mb-4 mx-auto text-center"},[a("p",{staticClass:"lead"},[e._v("Please fill the fields below with your data.")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-4 order-md-2 mb-4"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-append"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"email"}},[e._v("Email"),a("span",{staticClass:"text-muted"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"password"}},[e._v("Password"),a("span",{staticClass:"text-muted"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"password-repeat"}},[e._v("Repeat password"),a("span",{staticClass:"text-muted"})])}],ue=(a("c740"),a("ac1f"),a("5319"),{name:"v-authentication",data:function(){return{first_name:"",last_name:"",middle_name:"",email:"@innopolis.university",password:"",re_password:"",track:"",course:"",degree:"",degree_mas:"",degree_bach:"",track_availability:""}},created:function(){this.$store.dispatch("tryAutoLogin")},watch:{degree:function(){this.degree_bach="Bachelor"===this.degree,this.degree_mas="Master"===this.degree},course:function(){!0!==this.degree_mas?!0===this.degree_bach&&this.course>2?this.track_availability=!0:this.track_availability=!1:this.track_availability=!0}},methods:{go_to_login:function(){this.$router.replace({name:"login"})},onSubmit:function(){var e=this,t=document.querySelector(".needs-validation");if(!1!==t.checkValidity()){if(this.password===this.re_password){var a=["Bachelor","Master","I am not a student"].findIndex((function(t){return e.degree===t})),s=["1","2","3","4","I am not a student"].findIndex((function(t){return e.course===t}))+1,i=["Computer Science","Robotics","Data Science","Software Engineering","Security and Network Engineering","I am not a student"].findIndex((function(t){return e.track===t})),n={email:this.email,password:this.password,first_name:this.first_name,last_name:this.last_name,re_password:this.re_password,middle_name:this.middle_name,track:i,course:s,degree:a};console.log(n),this.$store.dispatch("signup",n)}}else t.classList.add("was-validated")}}}),me=ue,pe=(a("b103"),Object(c["a"])(me,le,de,!1,null,"3c4a6fda",null)),ve=pe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-light"},[a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 order-md-2 mb-4"},[a("h4",{staticClass:"text-muted d-flex justify-content-between align-items-center mb-3"},[e._v(" Profile photo ")]),e._m(1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"file"}},[e._v("New photo")]),a("input",{ref:"file",staticClass:"form-control-file",attrs:{type:"file",id:"file"},on:{change:function(t){return e.handleFileUpload()}}})]),a("h4",{directives:[{name:"show",rawName:"v-show",value:e.bookmarks.length>0,expression:"bookmarks.length > 0"}],staticClass:"text-muted d-flex justify-content-between align-items-center mb-3"},[e._v(" Bookmarks ")]),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.bookmarks.length>0,expression:"bookmarks.length > 0"}],staticClass:"list-group mb-3"},[e._l(e.bookmarks,(function(t){return a("li",{key:t.uploads,staticClass:"list-group-item d-flex justify-content-between lh-condensed"},[a("div",{staticClass:"list-item-description"},[a("h6",{staticClass:"my-0 font-weight-bold"},[e._v(e._s(t.title))]),e._m(2,!0)])])})),e._m(3)],2),a("div",{staticClass:"input-group"})]),a("div",{staticClass:"col-md-8 order-md-1"},[a("h4",{staticClass:"text-muted d-flex justify-content-between align-items-center mb-3 text-left"},[e._v(" About me ")]),a("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[a("label",{attrs:{for:"first-name"}},[e._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],staticClass:"form-control",attrs:{type:"text",id:"first-name",placeholder:""},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[a("label",{attrs:{for:"middle-name"}},[e._v("Middle name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.middle_name,expression:"middle_name"}],staticClass:"form-control",attrs:{type:"text",id:"middle-name",placeholder:""},domProps:{value:e.middle_name},on:{input:function(t){t.target.composing||(e.middle_name=t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[a("label",{attrs:{for:"last-name"}},[e._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],staticClass:"form-control",attrs:{type:"text",id:"last-name",placeholder:""},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[a("label",{attrs:{for:"username"}},[e._v("Email")]),a("div",{staticClass:"input-group"},[e._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[e._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please enter your password. ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[e._m(6),a("input",{directives:[{name:"model",rawName:"v-model",value:e.re_password,expression:"re_password"}],staticClass:"form-control",attrs:{type:"password",id:"password-repeat",placeholder:"",required:""},domProps:{value:e.re_password},on:{input:function(t){t.target.composing||(e.re_password=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Please repeat your password. ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"degree"}},[e._v("Degree")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.degree,expression:"degree"}],staticClass:"custom-select d-block w-100",attrs:{id:"degree",required:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.degree=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",[e._v("Bachelor")]),a("option",[e._v("Master")]),a("option",[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select your degree. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"course"}},[e._v("Course")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.course,expression:"course"}],staticClass:"custom-select d-block w-100",attrs:{id:"course"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.course=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach||e.degree_mas,expression:"degree_bach || degree_mas"}]},[e._v("1")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach||e.degree_mas,expression:"degree_bach || degree_mas"}]},[e._v("2")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&!e.degree_mas,expression:"degree_bach && !degree_mas"}]},[e._v("3")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&!e.degree_mas,expression:"degree_bach && !degree_mas"}]},[e._v("4")]),a("option",{directives:[{name:"show",rawName:"v-show",value:!e.degree_bach&&!e.degree_mas,expression:"!degree_bach && !degree_mas"}]},[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select your degree. ")])]),a("div",{staticClass:"col-md-4 mb-3"},[a("label",{attrs:{for:"track"}},[e._v("Track")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.track,expression:"track"}],staticClass:"custom-select d-block w-100",attrs:{id:"track"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.track=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course<3&&!e.degree_mas,expression:"(degree_bach && course < 3) && !degree_mas"}]},[e._v("Computer Science")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Robotics")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Data Science")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Software Engineering")]),a("option",{directives:[{name:"show",rawName:"v-show",value:e.degree_bach&&e.course>2||e.degree_mas,expression:"(degree_bach && course > 2) || degree_mas"}]},[e._v("Security and Network Engineering")]),a("option",{directives:[{name:"show",rawName:"v-show",value:!e.degree_bach&&!e.degree_mas,expression:"!degree_bach && !degree_mas"}]},[e._v("I am not a student")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select your degree. ")])]),a("hr",{staticClass:"mb-4"}),a("button",{staticClass:"btn btn-primary btn-lg btn-block orange-btn",attrs:{type:"submit"},on:{click:function(t){return e.onSubmit()}}},[e._v("Update")])])])])])])])},fe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-5"},[a("h2",{staticClass:"text-center"},[e._v("My Profile")]),a("p",{staticClass:"lead text-center"},[e._v("Here you can update or add your personal data.")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media-right"},[a("img",{staticClass:"media-object",staticStyle:{width:"175px"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-muted"},[a("small",[e._v("Tags")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"list-group-item d-flex justify-content-between"},[a("button",{staticClass:"btn btn-link",attrs:{type:"button"}},[e._v("Show all my bookmarks")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[e._v("@")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"password"}},[e._v("Password"),a("span",{staticClass:"text-muted"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{attrs:{for:"password-repeat"}},[e._v("Repeat password"),a("span",{staticClass:"text-muted"})])}],ge={data:function(){return{first_name:"",last_name:"",middle_name:"",email:"",password:"",re_password:"",track:"",course:"",degree:"",degree_mas:"",degree_bach:"",track_availability:"",file:""}},name:"profile",computed:Object(j["a"])({},Object(O["d"])({info:"informationAboutMe",bookmarks:"bookmarks"})),watch:{degree:function(){this.degree_bach="Bachelor"===this.degree,this.degree_mas="Master"===this.degree},course:function(){!0!==this.degree_mas?!0===this.degree_bach&&this.course>2?this.track_availability=!0:this.track_availability=!1:this.track_availability=!0},info:function(e){document.querySelector("img.media-object").src=e.image,this.first_name=e.first_name,this.last_name=e.last_name,this.middle_name=e.middle_name,this.email=e.email}},created:function(){this.$store.dispatch("getInfo"),this.$store.dispatch("getBookmarks")},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},onSubmit:function(){var e=this,t=document.querySelector(".needs-validation");if(!1!==t.checkValidity()){if(this.re_password===this.password){var s=a("5a30"),i=new s,n=["Bachelor","Master","I am not a student"].findIndex((function(t){return e.degree===t})),r=["1","2","3","4","I am not a student"].findIndex((function(t){return e.course===t}))+1,o=["Computer Science","Robotics","Data Science","Software Engineering","Security and Network Engineering","I am not a student"].findIndex((function(t){return e.track===t}));i.append("first_name",this.first_name),i.append("last_name",this.last_name),i.append("mid_name",this.middle_name),i.append("email",this.email),i.append("password",this.password),i.append("re_password",this.re_password),i.append("degree",n),i.append("image",this.file),i.append("course",r),i.append("track",o),this.$store.dispatch("changeInfo",i)}}else t.classList.add("was-validated")}}},be=ge,_e=(a("c42c"),Object(c["a"])(be,he,fe,!1,null,"b2885f94",null)),we=_e.exports,Ce=(a("99af"),a("4de4"),a("7db0"),a("4160"),a("d81d"),a("13d5"),a("159b"),a("96cf"),a("1da1")),ke=a("bc3a"),ye=a.n(ke),xe=ye.a.create({baseURL:"https://digital-library-iu.herokuapp.com"}),Ne=xe,Pe=a("5a30");s["a"].use(O["a"]);var De=new O["a"].Store({state:{documentsInTh:[],bookmarks:[],currentComments:[],informationAboutMe:{},idToken:null,thematicalPages:[],currentDoc:{},documents:[],openedDocuments:[],tags:[]},mutations:{clearAuthData:function(e){e.idToken=null},authUser:function(e,t){e.idToken=t.token},openDocument:function(e,t){0===e.openedDocuments.length?t.active=1:t.active=0,e.openedDocuments.push(t),e.currentDoc=t},closeDocument:function(e,t){1!==e.openedDocuments.length&&(e.openedDocuments=e.openedDocuments.filter((function(a,s){return t===a.title&&1===a.active&&e.openedDocuments.length>0&&(e.openedDocuments[0].active=1),0===s&&t===a.title&&1===a.active&&e.openedDocuments.length>1&&(e.openedDocuments[1].active=1),t===a.title&&(a.pageNum=1),t!==a.title})))},updatePage:function(e,t){var a=t.doc,s=t.page;a.pageNum=s},activateTab:function(e,t){e.openedDocuments=e.openedDocuments.map((function(e){return Object(j["a"])(Object(j["a"])({},e),{},{active:e.title===t})})),e.currentDoc=e.openedDocuments.find((function(e){return e.active}))},getDocument:function(e){e.openedDocuments.forEach((function(t){t.id===e.currentDoc.id&&(t.pageNum=e.currentDoc.pageNum)}));for(var t=0;t<e.openedDocuments.length;t++)if(1===e.openedDocuments[t].active){e.currentDoc=e.openedDocuments[t];break}},getInfo:function(e,t){e.informationAboutMe=t}},actions:{search:function(e,t){var a,s=e.state;if(0===t.tags.length)a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/storage/uploads?title=".concat(t.title),headers:{}};else{var i=t.tags.reduce((function(e,a,s){s-1===t.tags.length?a:a+","}),"");a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/storage/uploads?tags=".concat(i,"&title=").concat(t.title),headers:{}}}Ne(a).then((function(e){s.documents=e.data,s.documents.forEach((function(e){0===e.type&&(e.type="document"),1===e.type&&(e.type="image"),2===e.type&&(e.type="video"),3===e.type&&(e.type="link"),0===e.status&&(e.status="rejected"),1===e.status&&(e.status="approved"),2===e.status&&(e.status="pending"),e.pageNum=1,e.active=0})),console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e)}))},getThematicalPages:function(e){var t=e.state,a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/user_view/thematic_pages_list",headers:{Authorization:"Token "+t.idToken}};Ne(a).then((function(e){t.thematicalPages=e.data;var a=e.data;a.forEach((function(e){e.type="folder"}))})).catch((function(e){console.log(e.response.data)}))},getTags:function(e){var t=e.state,a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/storage/tags/",headers:{}};Ne(a).then((function(e){t.tags=e.data})).catch((function(e){console.log(e.response.data)}))},setLogoutTimer:function(e,t){var a=e.commit;setTimeout((function(){a("logout")}),1e3*t)},changeInfo:function(e,t){var a=e.state,s={method:"put",url:"https://digital-library-iu.herokuapp.com/auth/users/me/",headers:{Authorization:"Token "+a.idToken},data:t};Ne(s).then((function(e){Fe.replace("/")})).catch((function(e){console.log(e.response.data)}))},getList:function(e){var t=e.state,a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/storage/uploads/",headers:{}};0===t.documents.length&&Ne(a).then((function(e){t.documents=e.data,t.documents.forEach((function(e){0===e.type&&(e.type="document"),1===e.type&&(e.type="image"),2===e.type&&(e.type="video"),3===e.type&&(e.type="link"),0===e.status&&(e.status="rejected"),1===e.status&&(e.status="approved"),2===e.status&&(e.status="pending"),e.pageNum=1,e.active=0}))})).catch((function(e){console.log(e.response.data)}))},logout:function(e){var t=e.commit,a=e.state,s=!0,i=function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={method:"post",url:"/auth/token/logout/",headers:{Authorization:"Token "+a.idToken}},e.next=3,Ne(i).then((function(e){})).catch((function(e){console.log(e.response.data),s=!1}));case 3:t("clearAuthData"),localStorage.removeItem("expirationDate"),localStorage.removeItem("token");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:s&&Fe.replace("/registration");case 3:case"end":return e.stop()}}),e)})))()},tryAutoLogin:function(e){var t=e.commit,a=localStorage.getItem("token");if(a){var s=localStorage.getItem("expirationDate"),i=new Date;i>=s||(t("authUser",{token:a}),Fe.replace("/"))}},submitFile:function(e,t){var a=e.state,s=!0,i=function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={method:"post",url:"https://digital-library-iu.herokuapp.com/api/storage/uploads/",headers:{Authorization:"Token "+a.idToken},data:t},e.next=3,Ne(i).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){s=!1,console.log(e.response.data)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:s&&Fe.replace("/");case 3:case"end":return e.stop()}}),e)})))()},getBookmarks:function(e){var t=e.state,a={method:"get",url:"https://digital-library-iu.herokuapp.com/api/user_view/bookmark_list",headers:{Authorization:"Token "+t.idToken}};Ne(a).then((function(e){t.bookmarks=e.data})).catch((function(e){console.log(e.response.data)}))},createComment:function(e,t){var a=e.dispatch,s=e.state,i=function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.stringify({content:t.content,upload:t.id}),i={method:"post",url:"https://digital-library-iu.herokuapp.com/api/storage/comments/",headers:{Authorization:"Token "+s.idToken,"Content-Type":"application/json"},data:a},e.next=4,Ne(i).then((function(e){console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e.response.data)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:a("getComments",t.id);case 3:case"end":return e.stop()}}),e)})))()},openFolder:function(e,t){var a=e.state,s={method:"get",url:"https://digital-library-iu.herokuapp.com/api/user_view/thematic_page_uploads/1",headers:{Authorization:"Token "+a.idToken}};Ne(s).then((function(e){a.documentsInTh=e.data,console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e.response.data)}))},getComments:function(e,t){var a=e.state,s={method:"get",url:"https://digital-library-iu.herokuapp.com/api/storage/uploads/comments/".concat(t,"/"),headers:{}};Ne(s).then((function(e){a.currentComments=e.data,console.log(JSON.stringify(e.data))})).catch((function(e){console.log(e)}))},signup:function(e,t){var a=e.commit,s=e.dispatch,i=!0,n=function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Pe,n.append("first_name",t.first_name),n.append("last_name",t.last_name),n.append("email",t.email),n.append("password",t.password),n.append("re_password",t.re_password),n.append("degree",t.degree),n.append("track",t.track),n.append("course",t.course),e.next=11,Ne.post("/auth/users/",n).then((function(e){console.log(e.data),r={method:"get",url:"https://digital-library-iu.herokuapp.com/auth/create_token/?id="+e.data.id,headers:{}}})).catch((function(e){console.log(e.response.data),i=!1}));case 11:return e.next=13,Ne(r).then((function(e){var t=new Date,i=new Date(t.getTime()+5184e6);localStorage.setItem("expirationDate",i),s("setLogoutTimer",5184e3),localStorage.setItem("token",e.data.auth_token),a("authUser",{token:e.data.auth_token})})).catch((function(e){console.log("error occured"),console.log(e.response.data),i=!1}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:i&&Fe.replace("/");case 3:case"end":return e.stop()}}),e)})))()},login:function(e,t){var a=e.commit,s=e.dispatch,i=!0,n=function(){var e=Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/auth/token/login/?email=".concat(t.email,"&password=").concat(t.password),{email:t.email,password:t.password}).then((function(e){a("authUser",{token:e.data.auth_token});var t=new Date,i=new Date(t.getTime()+5184e6);localStorage.setItem("token",e.data.auth_token),localStorage.setItem("expirationDate",i),s("setLogoutTimer",5184e3)})).catch((function(e){console.log(e.response.data),i=!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(Ce["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:i&&Fe.replace("/");case 3:case"end":return e.stop()}}),e)})))()},getDocument:function(e){var t=e.commit;t("getDocument")},activateTab:function(e,t){var a=e.commit;a("activateTab",t),a("getDocument")},closeDocument:function(e,t){var a=e.commit;a("closeDocument",t),a("getDocument")},openDocument:function(e,t){var a=e.commit;a("openDocument",t),a("getDocument")},updatePage:function(e,t){var a=e.commit,s=t.doc,i=t.page;a("updatePage",{doc:s,page:i})},getInfo:function(e){var t=e.state,a=e.commit,s={method:"get",url:"/auth/users/me/",headers:{Authorization:"Token "+t.idToken}};Ne(s).then((function(e){a("getInfo",e.data)})).catch((function(e){console.log(e.response.data)}))}},getters:{isAuthenticated:function(e){return null!==e.idToken}}}),je=De,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center login-body"},[a("form",{staticClass:"form-signin",on:{submit:function(e){e.preventDefault()}}},[a("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v("Please sign in")]),a("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[e._v("Email address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Email address",required:"",autofocus:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("button",{staticClass:"btn btn-lg btn-primary btn-block orange-btn",on:{click:function(t){return e.onSubmit()}}},[e._v("Sign in")])])])},Se=[],Te={name:"login",data:function(){return{email:"",password:""}},created:function(){this.$store.dispatch("tryAutoLogin")},methods:{onSubmit:function(){var e={email:this.email,password:this.password};this.$store.dispatch("login",e)}}},$e=Te,Ee=(a("6747"),Object(c["a"])($e,Oe,Se,!1,null,"c2b7fe62",null)),Ae=Ee.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-light"},[a("div",{staticClass:"container"},[e._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 order-md-1"},[a("h4",{staticClass:"mb-3"},[e._v("Information about material")]),a("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 mb-6"},[a("label",{attrs:{for:"title"}},[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"",value:"",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Title is required. ")])])]),a("label",{attrs:{for:"type"}},[e._v("Type")]),a("div",{staticClass:"mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"custom-select d-block w-100",attrs:{id:"type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Choose...")]),a("option",[e._v("Document")]),a("option",[e._v("Image")]),a("option",[e._v("Video")]),a("option",[e._v("Link")])]),a("div",{staticClass:"invalid-feedback"},[e._v(" Please select type of your upload. ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Link"!==e.type,expression:"type!=='Link'"}],staticClass:"form-group"},[a("label",{attrs:{for:"file"}},[e._v("Choose the file")]),a("input",{ref:"file",staticClass:"form-control-file",attrs:{type:"file",id:"file",required:""},on:{change:function(t){return e.handleFileUpload()}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" File is required. ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"Link"===e.type,expression:"type==='Link'"}],staticClass:"form-group"},[a("label",{attrs:{for:"link"}},[e._v("Link")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],staticClass:"form-control",attrs:{type:"text",id:"link",placeholder:"Link:",value:"",required:""},domProps:{value:e.link},on:{input:function(t){t.target.composing||(e.link=t.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[e._v(" Link is required. ")])]),a("hr",{staticClass:"mb-4"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"mb-3"},[e._v("Tags")]),e._l(e.tags,(function(t){return a("div",{key:t.id,staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tagsUpload,expression:"tagsUpload"}],staticClass:"custom-control-input",attrs:{id:"tag-"+t.id,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.tagsUpload)?e._i(e.tagsUpload,t)>-1:e.tagsUpload},on:{change:function(a){var s=e.tagsUpload,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r=t,o=e._i(s,r);i.checked?o<0&&(e.tagsUpload=s.concat([r])):o>-1&&(e.tagsUpload=s.slice(0,o).concat(s.slice(o+1)))}else e.tagsUpload=n}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"tag-"+t.id}},[e._v(e._s(t.name))]),a("br")])}))],2),a("div",{staticClass:"col-md-6"},[a("h4",{staticClass:"mb-3"},[e._v("Thematic page")]),a("div",{staticClass:"btn-group btn-group-vertical",attrs:{"data-toggle":"buttons"}},e._l(e.th_pages,(function(t){return a("div",{key:t.id,staticClass:"custom-control custom-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.thUpload,expression:"thUpload"}],staticClass:"custom-control-input",attrs:{id:"th-"+t.id,type:"radio"},domProps:{value:t,checked:e._q(e.thUpload,t)},on:{change:function(a){e.thUpload=t}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"th-"+t.id}},[e._v(e._s(t.title))]),a("br")])})),0)])]),a("hr",{staticClass:"mb-4"}),a("button",{staticClass:"btn btn-primary btn-lg btn-block orange-btn",attrs:{type:"submit"},on:{click:function(t){return e.onSubmit()}}},[e._v("Contribute")])])])])])])},Ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-5 text-center"},[a("h2",{staticClass:"text-center"},[e._v("Contribute to Digital Library")]),a("p",{staticClass:"text-center lead"},[e._v("Here you can upload materials to Digital Library. Please fill the fields carefully and submit for consideration.")])])}],Re=(a("9911"),{name:"v-cont",data:function(){return{file:"",type:"Document",link:"",title:"",thUpload:[],tagsUpload:[]}},computed:Object(j["a"])({},Object(O["d"])({tags:"tags",th_pages:"thematicalPages"})),methods:{onSubmit:function(){var e=document.querySelector(".needs-validation");!1===e.checkValidity()&&e.classList.add("was-validated");var t=a("5a30"),s=new t;s.append("title",this.title),this.tagsUpload.forEach((function(e,t){s.append("tags[".concat(t,"]"),e.id)})),s.append("thematic_page",this.thUpload.id);var i=0;"Image"===this.type&&(i=1),"Video"===this.type&&(i=2),"Link"===this.type&&(i=3),s.append("type",i),2===i?s.append("link",this.link):s.append("file",this.file),this.$store.dispatch("submitFile",s)},handleFileUpload:function(){this.file=this.$refs.file.files[0]}},created:function(){this.$store.dispatch("getTags"),this.$store.dispatch("getThematicalPages")}}),Le=Re,Ue=(a("a7a1"),Object(c["a"])(Le,qe,Ie,!1,null,"2e7045b8",null)),Me=Ue.exports;s["a"].use(u["a"]);var ze=[{name:"home",path:"/",component:ce,beforeEnter:function(e,t,a){je.state.idToken?a():a("./registration")}},{name:"contribute",component:Me,path:"/contribute",beforeEnter:function(e,t,a){je.state.idToken?a():a("./registration")}},{name:"uploads",component:g,path:"/uploads",beforeEnter:function(e,t,a){je.state.idToken?a():a("./registration")}},{name:"users",component:y,path:"/Users",beforeEnter:function(e,t,a){je.state.idToken?a():a("./registration")}},{name:"login",path:"/login",component:Ae},{name:"profile",path:"/profile",component:we,beforeEnter:function(e,t,a){je.state.idToken?a():a("./registration")}},{name:"documentation",path:"/docs"},{name:"about",path:"/about"},{name:"contacts",path:"/contacts"},{name:"registration",path:"/registration",component:ve},{name:"catchAll",path:"*",redirect:{name:"home"}}],Be=new u["a"]({routes:ze,mode:"history"}),Fe=Be;a("3a62"),a("7c2c"),a("4cd1"),a("f9e3"),a("2dd8");s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(d)},store:je,router:Fe}).$mount("#app")},6:function(e,t){},6747:function(e,t,a){"use strict";var s=a("8847"),i=a.n(s);i.a},6769:function(e,t,a){},"6c61":function(e,t,a){"use strict";var s=a("0560"),i=a.n(s);i.a},"7c2c":function(e,t,a){},8018:function(e,t,a){"use strict";var s=a("2eda"),i=a.n(s);i.a},"85ec":function(e,t,a){},8847:function(e,t,a){},a7a1:function(e,t,a){"use strict";var s=a("d196"),i=a.n(s);i.a},ae09:function(e,t,a){},b103:function(e,t,a){"use strict";var s=a("ef1f"),i=a.n(s);i.a},c42c:function(e,t,a){"use strict";var s=a("6769"),i=a.n(s);i.a},d196:function(e,t,a){},ef1f:function(e,t,a){}});
//# sourceMappingURL=app.cc844427.js.map