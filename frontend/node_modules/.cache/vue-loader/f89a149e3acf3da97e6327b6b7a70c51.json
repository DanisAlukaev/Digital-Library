{"remainingRequest":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\otherPages\\v-profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\otherPages\\v-profile.vue","mtime":1606093063348},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gInZ1ZXgiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaXJzdF9uYW1lOiAiIiwKICAgICAgICAgICAgbGFzdF9uYW1lOiAiIiwKICAgICAgICAgICAgbWlkZGxlX25hbWU6ICIiLAogICAgICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICAgICAgcmVfcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICB0cmFjazogIiIsCiAgICAgICAgICAgIGNvdXJzZTogIiIsCiAgICAgICAgICAgIGRlZ3JlZTogIiIsCiAgICAgICAgICAgIGRlZ3JlZV9tYXM6ICIiLAogICAgICAgICAgICBkZWdyZWVfYmFjaDogIiIsCiAgICAgICAgICAgIHRyYWNrX2F2YWlsYWJpbGl0eTogIiIsCiAgICAgICAgICAgIGZpbGU6ICIiCiAgICAgICAgfTsKICAgIH0sCiAgICBuYW1lOiAicHJvZmlsZSIsCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKHtpbmZvOidpbmZvcm1hdGlvbkFib3V0TWUnLCBib29rbWFya3M6ICdib29rbWFya3MnfSksCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIGRlZ3JlZTpmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLmRlZ3JlZV9iYWNoID0gdGhpcy5kZWdyZWUgPT09ICdCYWNoZWxvcic7CiAgICAgICAgICAgIHRoaXMuZGVncmVlX21hcyA9IHRoaXMuZGVncmVlID09PSAnTWFzdGVyJwogICAgICAgIH0sCiAgICAgICAgY291cnNlOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGlmKHRoaXMuZGVncmVlX21hcyA9PT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrX2F2YWlsYWJpbGl0eSA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYodGhpcy5kZWdyZWVfYmFjaCA9PT0gdHJ1ZSAmJiB0aGlzLmNvdXJzZSA+IDIpey8vdG9kbyBjaGVjayB3aGV0aGVyIHRoaXMuY291cnNlIGlzIG51bWVyaWNhbCBvciBzdHJpbmcKICAgICAgICAgICAgICAgIHRoaXMudHJhY2tfYXZhaWxhYmlsaXR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRyYWNrX2F2YWlsYWJpbGl0eSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgaW5mbzpmdW5jdGlvbih2YWwpewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbWcubWVkaWEtb2JqZWN0Jykuc3JjID0gdmFsLmltYWdlOwogICAgICAgICAgICB0aGlzLmZpcnN0X25hbWUgPSB2YWwuZmlyc3RfbmFtZTsKICAgICAgICAgICAgdGhpcy5sYXN0X25hbWUgPSB2YWwubGFzdF9uYW1lOwogICAgICAgICAgICB0aGlzLm1pZGRsZV9uYW1lID0gdmFsLm1pZGRsZV9uYW1lOwogICAgICAgICAgICB0aGlzLmVtYWlsID0gdmFsLmVtYWlsOwogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRJbmZvJyk7CiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmluZm8pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRCb29rbWFya3MnKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlRmlsZVVwbG9hZCgpewogICAgICAgICAgICB0aGlzLmZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF07CiAgICAgICAgfSwKICAgICAgICBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubmVlZHMtdmFsaWRhdGlvbiIpOwogICAgICAgICAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ3dhcy12YWxpZGF0ZWQnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0aGlzLnJlX3Bhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkKXJldHVybjsKICAgICAgICAgICAgbGV0IEZvcm1EYXRhID0gcmVxdWlyZSgnZm9ybS1kYXRhJyk7CiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgIGxldCBkZWcgPSBbJ0JhY2hlbG9yJywgJ01hc3RlcicsICdJIGFtIG5vdCBhIHN0dWRlbnQnXS5maW5kSW5kZXgoKGVsZW1lbnQpPT57cmV0dXJuIHRoaXMuZGVncmVlID09PSBlbGVtZW50fSk7CiAgICAgICAgICAgIGxldCBjb3VyID0gWycxJywgJzInLCAnMycsICc0JywgJ0kgYW0gbm90IGEgc3R1ZGVudCddLmZpbmRJbmRleCgoZWxlbWVudCk9PntyZXR1cm4gdGhpcy5jb3Vyc2UgPT09IGVsZW1lbnR9KSArIDE7CiAgICAgICAgICAgIGxldCB0ciA9IFsnQ29tcHV0ZXIgU2NpZW5jZScsICdSb2JvdGljcycsICdEYXRhIFNjaWVuY2UnLCAnU29mdHdhcmUgRW5naW5lZXJpbmcnLCAnU2VjdXJpdHkgYW5kIE5ldHdvcmsgRW5naW5lZXJpbmcnLCAnSSBhbSBub3QgYSBzdHVkZW50J10uZmluZEluZGV4KChlbGVtZW50KT0+e3JldHVybiB0aGlzLnRyYWNrID09PSBlbGVtZW50fSk7CiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdmaXJzdF9uYW1lJywgdGhpcy5maXJzdF9uYW1lKTsKICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ2xhc3RfbmFtZScsIHRoaXMubGFzdF9uYW1lKTsKICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ21pZF9uYW1lJywgdGhpcy5taWRkbGVfbmFtZSk7CiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdlbWFpbCcsIHRoaXMuZW1haWwpOwogICAgICAgICAgICBkYXRhLmFwcGVuZCgncGFzc3dvcmQnLCB0aGlzLnBhc3N3b3JkKTsKICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ3JlX3Bhc3N3b3JkJywgdGhpcy5yZV9wYXNzd29yZCk7CiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdkZWdyZWUnLCBkZWcpOwogICAgICAgICAgICBkYXRhLmFwcGVuZCgnaW1hZ2UnLCB0aGlzLmZpbGUpOwogICAgICAgICAgICBkYXRhLmFwcGVuZCgnY291cnNlJywgY291cik7CiAgICAgICAgICAgIGRhdGEuYXBwZW5kKCd0cmFjaycsIHRyKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZUluZm8nLCBkYXRhKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["v-profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"v-profile.vue","sourceRoot":"src/components/otherPages","sourcesContent":["<template>\r\n    <div class=\"bg-light\">\r\n        <div class=\"container\">\r\n            <div class=\"py-5\">\r\n                <h2 class=\"text-center\">My Profile</h2>\r\n                <p class=\"lead text-center\">Here you can update or add your personal data.</p>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4 order-md-2 mb-4\">\r\n\r\n                    <h4 class=\"text-muted d-flex justify-content-between align-items-center mb-3\">\r\n                        Profile photo\r\n                    </h4>\r\n                    <div class=\"media-right\">\r\n                        <img class=\"media-object\" style=\"width:175px\">\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"file\">New photo</label>\r\n                        <input type=\"file\" class=\"form-control-file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\">\r\n                    </div>\r\n\r\n                    <h4 class=\"text-muted d-flex justify-content-between align-items-center mb-3\" v-show=\"bookmarks.length > 0\">\r\n                        Bookmarks\r\n                    </h4>\r\n                    <ul class=\"list-group mb-3\" v-show=\"bookmarks.length > 0\">\r\n                        <li class=\"list-group-item d-flex justify-content-between lh-condensed\" v-for=\"bm in bookmarks\" :key=\"bm.uploads\">\r\n                            <div class=\"list-item-description\">\r\n                                <h6 class=\"my-0 font-weight-bold\">{{bm.title}}</h6>\r\n                                <p class=\"text-muted\"><small>Tags</small></p>\r\n                            </div>\r\n                            <!--<button type=\"button\" class=\"btn btn-link\">Open</button>-->\r\n                        </li>\r\n                        <li class=\"list-group-item d-flex justify-content-between\">\r\n                            <button type=\"button\" class=\"btn btn-link\">Show all my bookmarks</button>\r\n                        </li>\r\n                    </ul>\r\n                    <div class=\"input-group\">\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"col-md-8 order-md-1\">\r\n\r\n                    <h4 class=\"text-muted d-flex justify-content-between align-items-center mb-3 text-left\">\r\n                        About me\r\n                    </h4>\r\n\r\n                    <form class=\"needs-validation\" novalidate v-on:submit.prevent>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"first-name\">First name</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"first-name\" placeholder=\"\" v-model=\"first_name\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"middle-name\">Middle name</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"middle-name\" placeholder=\"\" v-model=\"middle_name\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"last-name\">Last name</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"last-name\" placeholder=\"\" v-model=\"last_name\">\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"username\">Email</label>\r\n                                <div class=\"input-group\">\r\n                                    <div class=\"input-group-prepend\">\r\n                                        <span class=\"input-group-text\">@</span>\r\n                                    </div>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"username\" placeholder=\"\" v-model=\"email\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"password\">Password<span class=\"text-muted\"></span></label>\r\n                                <input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"\" required v-model=\"password\">\r\n                                <div class=\"invalid-feedback\">\r\n                                    Please enter your password.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"password-repeat\">Repeat password<span class=\"text-muted\"></span></label>\r\n                                <input type=\"password\" class=\"form-control\" id=\"password-repeat\" placeholder=\"\" required v-model=\"re_password\">\r\n                                <div class=\"invalid-feedback\">\r\n                                    Please repeat your password.\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4 mb-3\">\r\n                                <label for=\"degree\">Degree</label>\r\n                                <select class=\"custom-select d-block w-100\" id=\"degree\" required v-model=\"degree\">\r\n                                    <option value=\"\" disabled>Choose...</option>\r\n                                    <option>Bachelor</option>\r\n                                    <option>Master</option>\r\n                                    <option>I am not a student</option>\r\n                                </select>\r\n                                <div class=\"invalid-feedback\">\r\n                                    Please select your degree.\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4 mb-3\">\r\n                                <label for=\"course\">Course</label>\r\n                                <select class=\"custom-select d-block w-100\" id=\"course\" v-model=\"course\">\r\n                                    <option value=\"\" disabled>Choose...</option>\r\n                                    <option v-show=\"degree_bach || degree_mas\">1</option>\r\n                                    <option v-show=\"degree_bach || degree_mas\">2</option>\r\n                                    <option v-show=\"degree_bach && !degree_mas\">3</option>\r\n                                    <option v-show=\"degree_bach && !degree_mas\">4</option>\r\n                                    <option v-show=\"!degree_bach && !degree_mas\">I am not a student</option>\r\n                                </select>\r\n                                <div class=\"invalid-feedback\">\r\n                                    Please select your degree.\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4 mb-3\">\r\n                                <label for=\"track\">Track</label>\r\n                                <select class=\"custom-select d-block w-100\" id=\"track\" v-model=\"track\">\r\n                                    <option value=\"\" disabled>Choose...</option>\r\n                                    <option v-show=\"(degree_bach && course < 3) && !degree_mas\">Computer Science</option>\r\n                                    <option v-show=\"(degree_bach && course > 2) || degree_mas\">Robotics</option>\r\n                                    <option v-show=\"(degree_bach && course > 2) || degree_mas\">Data Science</option>\r\n                                    <option v-show=\"(degree_bach && course > 2) || degree_mas\">Software Engineering</option>\r\n                                    <option v-show=\"(degree_bach && course > 2) || degree_mas\">Security and Network Engineering</option>\r\n                                    <option v-show=\"!degree_bach && !degree_mas\">I am not a student</option>\r\n                                </select>\r\n                                <div class=\"invalid-feedback\">\r\n                                    Please select your degree.\r\n                                </div>\r\n                            </div>\r\n\r\n                            <hr class=\"mb-4\">\r\n                            <button class=\"btn btn-primary btn-lg btn-block orange-btn\" type=\"submit\" @click=\"onSubmit()\">Update</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from \"vuex\";\r\n\r\n    export default {\r\n        data: function(){\r\n            return {\r\n                first_name: \"\",\r\n                last_name: \"\",\r\n                middle_name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                re_password: \"\",\r\n                track: \"\",\r\n                course: \"\",\r\n                degree: \"\",\r\n                degree_mas: \"\",\r\n                degree_bach: \"\",\r\n                track_availability: \"\",\r\n                file: \"\"\r\n            };\r\n        },\r\n        name: \"profile\",\r\n        computed: {\r\n            ...mapState({info:'informationAboutMe', bookmarks: 'bookmarks'}),\r\n        },\r\n        watch:{\r\n            degree:function(){\r\n                this.degree_bach = this.degree === 'Bachelor';\r\n                this.degree_mas = this.degree === 'Master'\r\n            },\r\n            course:function(){\r\n                if(this.degree_mas === true){\r\n                    this.track_availability = true;\r\n                    return;\r\n                }\r\n                if(this.degree_bach === true && this.course > 2){//todo check whether this.course is numerical or string\r\n                    this.track_availability = true;\r\n                    return;\r\n                }\r\n                this.track_availability = false;\r\n            },\r\n            info:function(val){\r\n                document.querySelector('img.media-object').src = val.image;\r\n                this.first_name = val.first_name;\r\n                this.last_name = val.last_name;\r\n                this.middle_name = val.middle_name;\r\n                this.email = val.email;\r\n            }\r\n        },\r\n        created() {\r\n            this.$store.dispatch('getInfo');\r\n            //console.log(this.info);\r\n            this.$store.dispatch('getBookmarks');\r\n        },\r\n        methods: {\r\n            handleFileUpload(){\r\n                this.file = this.$refs.file.files[0];\r\n            },\r\n            onSubmit() {\r\n                let form = document.querySelector(\".needs-validation\");\r\n                if (form.checkValidity() === false) {\r\n                    form.classList.add('was-validated');\r\n                    return;\r\n                }\r\n                if(this.re_password !== this.password)return;\r\n                let FormData = require('form-data');\r\n                let data = new FormData();\r\n                let deg = ['Bachelor', 'Master', 'I am not a student'].findIndex((element)=>{return this.degree === element});\r\n                let cour = ['1', '2', '3', '4', 'I am not a student'].findIndex((element)=>{return this.course === element}) + 1;\r\n                let tr = ['Computer Science', 'Robotics', 'Data Science', 'Software Engineering', 'Security and Network Engineering', 'I am not a student'].findIndex((element)=>{return this.track === element});\r\n                data.append('first_name', this.first_name);\r\n                data.append('last_name', this.last_name);\r\n                data.append('mid_name', this.middle_name);\r\n                data.append('email', this.email);\r\n                data.append('password', this.password);\r\n                data.append('re_password', this.re_password);\r\n                data.append('degree', deg);\r\n                data.append('image', this.file);\r\n                data.append('course', cour);\r\n                data.append('track', tr);\r\n                this.$store.dispatch('changeInfo', data);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .container {\r\n        max-width: 960px;\r\n        padding: 0 20%;\r\n    }\r\n    .btn-primary {\r\n        margin-left: 2%;\r\n        margin-right: 2%;\r\n    }\r\n    .list-group-item {\r\n        width: 100%;\r\n    }\r\n    .list-item-description {\r\n        width: 100%;\r\n        float: left;\r\n    }\r\n    .lh-condensed { line-height: 1.25; }\r\n\r\n</style>"]}]}