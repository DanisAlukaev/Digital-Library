{"remainingRequest":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\home\\v-cont.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\home\\v-cont.vue","mtime":1606058722389},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluayI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9cdTA0NDNcdTA0NDdcdTA0MzVcdTA0MzFcdTA0MzAvSmF2YVNjcmlwdC9kZW1vL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ2LWNvbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlOiAnJywKICAgICAgdHlwZTogJ0RvY3VtZW50JywKICAgICAgbGluazogJycsCiAgICAgIHRpdGxlOiAiREUgSG9sb2RvdiIsCiAgICAgIC8vZGVzY3JpcHRpb246ICJQZGYgTGVjdHVyZXMgb2YgQlMxOSIsCiAgICAgIHRoVXBsb2FkOiBbXSwKICAgICAgdGFnc1VwbG9hZDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdGFnczogJ3RhZ3MnLAogICAgdGhfcGFnZXM6ICd0aGVtYXRpY2FsUGFnZXMnCiAgfSkpLAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubmVlZHMtdmFsaWRhdGlvbiIpOwoKICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpID09PSBmYWxzZSkgewogICAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnd2FzLXZhbGlkYXRlZCcpOyAvL2NvbnNvbGUubG9nKCJvblN1Ym1pdCBzaG91bGRuJ3Qgd29yayIpOwogICAgICAgIC8vcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgRm9ybURhdGEgPSByZXF1aXJlKCdmb3JtLWRhdGEnKTsKCiAgICAgIHZhciBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybV9kYXRhLmFwcGVuZCgndGl0bGUnLCB0aGlzLnRpdGxlKTsgLy9mb3JtX2RhdGEuYXBwZW5kKCdkZXNjcmlwdGlvbicsIHRoaXMuZGVzY3JpcHRpb24pOwoKICAgICAgdGhpcy50YWdzVXBsb2FkLmZvckVhY2goZnVuY3Rpb24gKHRhZywgaSkgewogICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoInRhZ3NbIi5jb25jYXQoaSwgIl0iKSwgdGFnLmlkKTsKICAgICAgfSk7CiAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ3RoZW1hdGljX3BhZ2UnLCB0aGlzLnRoVXBsb2FkLmlkKTsKICAgICAgdmFyIHR5cGVuID0gMDsKICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ0ltYWdlJykgdHlwZW4gPSAxOwogICAgICBpZiAodGhpcy50eXBlID09PSAnVmlkZW8nKSB0eXBlbiA9IDI7CiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdMaW5rJykgdHlwZW4gPSAzOwogICAgICBmb3JtX2RhdGEuYXBwZW5kKCd0eXBlJywgdHlwZW4pOwogICAgICBpZiAodHlwZW4gPT09IDIpIGZvcm1fZGF0YS5hcHBlbmQoJ2xpbmsnLCB0aGlzLmxpbmspO2Vsc2UgZm9ybV9kYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzdWJtaXRGaWxlJywgZm9ybV9kYXRhKTsKICAgIH0sCiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKCkgewogICAgICB0aGlzLmZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldFRhZ3MnKTsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRUaGVtYXRpY2FsUGFnZXMnKTsKICB9Cn07"},{"version":3,"sources":["v-cont.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,UAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,YAJA;AAKA;AACA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,QAAA,oBACA,QAAA,CAAA;AAAA,IAAA,IAAA,EAAA,MAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAAA,CADA,CAbA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,mBAAA,CAAA;;AACA,UAAA,IAAA,CAAA,aAAA,OAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,eAAA,EADA,CAEA;AACA;AACA;;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,UAAA,SAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,SAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA,EATA,CAUA;;AACA,WAAA,UAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA,CAAA,EAAA;AACA,QAAA,SAAA,CAAA,MAAA,gBAAA,CAAA,QAAA,GAAA,CAAA,EAAA;AACA,OAFA;AAGA,MAAA,SAAA,CAAA,MAAA,CAAA,eAAA,EAAA,KAAA,QAAA,CAAA,EAAA;AAEA,UAAA,KAAA,GAAA,CAAA;AACA,UAAA,KAAA,IAAA,KAAA,OAAA,EAAA,KAAA,GAAA,CAAA;AACA,UAAA,KAAA,IAAA,KAAA,OAAA,EAAA,KAAA,GAAA,CAAA;AACA,UAAA,KAAA,IAAA,KAAA,MAAA,EAAA,KAAA,GAAA,CAAA;AACA,MAAA,SAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA;AACA,UAAA,KAAA,KAAA,CAAA,EAAA,SAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA,EAAA,KACA,SAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,SAAA;AACA,KAzBA;AA0BA,IAAA,gBA1BA,8BA0BA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AA5BA,GAhBA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,SAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,oBAAA;AACA;AAjDA,CAAA","sourcesContent":["<template>\r\n    <div class=\"bg-light\">\r\n        <div class=\"container\">\r\n            <div class=\"py-5 text-center\">\r\n                <h2>Contribute to Digital Library</h2>\r\n                <p class=\"lead\">Here you can upload materials to Digital Library. Please fill the fields carefully and submit for consideration.</p>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n\r\n                <div class=\"col-md-4 order-md-2 mb-4\">\r\n                    <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\r\n                        <span class=\"text-muted\">Your contributions</span>\r\n                    </h4>\r\n                    <ul class=\"list-group mb-3\">\r\n                        <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                            <div>\r\n                                <h6 class=\"my-0\">Title 1</h6>\r\n                                <small class=\"text-muted\">01.10.2020</small>\r\n                            </div>\r\n                            <span class=\"text-muted\">3 innopoints</span>\r\n                        </li>\r\n                        <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                            <div>\r\n                                <h6 class=\"my-0\">Title 2</h6>\r\n                                <small class=\"text-muted\">15.10.2020</small>\r\n                            </div>\r\n                            <span class=\"text-muted\">2 innopoints</span>\r\n                        </li>\r\n                        <li class=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                            <div>\r\n                                <h6 class=\"my-0\">Title 3</h6>\r\n                                <small class=\"text-muted\">14.11.2020</small>\r\n                            </div>\r\n                            <span class=\"text-muted\">5 innopoints</span>\r\n                        </li>\r\n                        <li class=\"list-group-item d-flex justify-content-between\">\r\n                            <span>Innopoints total </span>\r\n                            <strong>10</strong>\r\n                        </li>\r\n                    </ul>\r\n\r\n                    <div class=\"input-group\">\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div class=\"col-md-8 order-md-1\">\r\n                    <h4 class=\"mb-3\">Information about material</h4>\r\n                    <form class=\"needs-validation\" novalidate v-on:submit.prevent>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12 mb-6\">\r\n                                <label for=\"title\">Title</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"\" value=\"\" required v-model=\"title\">\r\n                                <div class=\"invalid-feedback\">\r\n                                    Title is required.\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <!--\r\n                        <div class=\"form-group\">\r\n                            <label for=\"description\">Description</label>\r\n                            <textarea class=\"form-control\" id=\"description\" rows=\"3\" required v-model=\"description\"></textarea>\r\n                            <div class=\"invalid-feedback\">\r\n                                Description is required.\r\n                            </div>\r\n                        </div>\r\n                        -->\r\n                        <label for=\"type\">Type</label>\r\n                        <div class=\"mb-3\">\r\n                            <select class=\"custom-select d-block w-100\" id=\"type\" v-model=\"type\">\r\n                                <option value=\"\" disabled>Choose...</option>\r\n                                <option>Document</option>\r\n                                <option>Image</option>\r\n                                <option>Video</option>\r\n                                <option>Link</option>\r\n                            </select>\r\n                            <div class=\"invalid-feedback\">\r\n                                Please select type of your upload.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group\" v-show=\"type!=='Link'\">\r\n                            <label for=\"file\">Choose the file</label>\r\n                            <input type=\"file\" class=\"form-control-file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\" required>\r\n                            <div class=\"invalid-feedback\">\r\n                                File is required.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group\" v-show=\"type==='Link'\">\r\n                            <label for=\"link\">Link</label>\r\n                            <input type=\"text\" class=\"form-control\" id=\"link\" placeholder=\"Link:\" value=\"\" required v-model=\"link\">\r\n                            <div class=\"invalid-feedback\">\r\n                                Link is required.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <hr class=\"mb-4\">\r\n\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <h4 class=\"mb-3\">Tags</h4>\r\n                                <div v-for=\"tag in tags\" :key=\"tag.id\" class=\"custom-control custom-checkbox\">\r\n                                    <input class=\"custom-control-input\" :id=\"`tag-${tag.id}`\" type=\"checkbox\" v-bind:value=\"tag\" v-model=\"tagsUpload\">\r\n                                    <label class=\"custom-control-label\" :for=\"`tag-${tag.id}`\">{{tag.name}}</label><br>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <h4 class=\"mb-3\">Thematic page</h4>\r\n                                <div class=\"btn-group btn-group-vertical\" data-toggle=\"buttons\">\r\n\r\n                                    <div v-for=\"th in th_pages\" :key=\"th.id\" class=\"custom-control custom-radio\">\r\n                                        <input class=\"custom-control-input\" :id=\"`th-${th.id}`\" type=\"radio\" v-bind:value=\"th\" v-model=\"thUpload\">\r\n                                        <label class=\"custom-control-label\" :for=\"`th-${th.id}`\">{{th.title}}</label><br>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr class=\"mb-4\">\r\n                        <button class=\"btn btn-primary btn-lg btn-block\" type=\"submit\" @click=\"onSubmit()\">Contribute</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState} from 'vuex';\r\n    export default {\r\n        name: \"v-cont\",\r\n        data: function(){\r\n            return {\r\n                file: '',\r\n                type: 'Document',\r\n                link: '',\r\n                title: \"DE Holodov\",\r\n                //description: \"Pdf Lectures of BS19\",\r\n                thUpload: [],\r\n                tagsUpload: []\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({tags: 'tags', th_pages: 'thematicalPages'}),\r\n        },\r\n        methods: {\r\n            onSubmit(){\r\n                let form = document.querySelector(\".needs-validation\");\r\n                if(form.checkValidity() === false) {\r\n                    form.classList.add('was-validated');\r\n                    //console.log(\"onSubmit shouldn't work\");\r\n                    //return;\r\n                }\r\n                let FormData = require('form-data');\r\n                let form_data = new FormData();\r\n                form_data.append('title', this.title);\r\n                //form_data.append('description', this.description);\r\n                this.tagsUpload.forEach((tag, i)=>{\r\n                    form_data.append(`tags[${i}]`, tag.id);\r\n                });\r\n                form_data.append('thematic_page', this.thUpload.id);\r\n\r\n                let typen = 0;\r\n                if(this.type === 'Image')typen = 1;\r\n                if(this.type === 'Video')typen = 2;\r\n                if(this.type === 'Link')typen = 3;\r\n                form_data.append('type', typen);\r\n                if(typen === 2)form_data.append('link', this.link);\r\n                else form_data.append('file', this.file);\r\n                this.$store.dispatch('submitFile', form_data);\r\n            },\r\n            handleFileUpload(){\r\n                this.file = this.$refs.file.files[0];\r\n            }\r\n        },\r\n        created(){\r\n            this.$store.dispatch('getTags');\r\n            this.$store.dispatch('getThematicalPages');\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .container {\r\n        max-width: 960px;\r\n    }\r\n\r\n    .lh-condensed { line-height: 1.25; }\r\n\r\n</style>"],"sourceRoot":"src/components/home"}]}