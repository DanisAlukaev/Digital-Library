{"remainingRequest":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\home\\v-document.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\src\\components\\home\\v-document.vue","mtime":1606084397354},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\учеба\\JavaScript\\demo\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovXHUwNDQzXHUwNDQ3XHUwNDM1XHUwNDMxXHUwNDMwL0phdmFTY3JpcHQvZGVtby9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIHBkZmpzTGliIGZyb20gJ3BkZmpzLWRpc3QnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInYtY29udGVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBkcm9wZG93bjogZmFsc2UsCiAgICAgIHNjYWxlOiAxMDAsCiAgICAgIHBkZjogdW5kZWZpbmVkLAogICAgICBwYWdlczogW10sCiAgICAgIHBhZ2VSZW5kZXJpbmc6IGZhbHNlLAogICAgICBwYWdlTnVtUGVuZGluZzogbnVsbCwKICAgICAgcGFnZU1heDogMSwKICAgICAgcGFnZU51bTogMQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGRvYzogJ2N1cnJlbnREb2MnLAogICAgY29tbTogJ2N1cnJlbnRDb21tZW50cycKICB9KSksIHt9LCB7CiAgICB0eXBlTGluazogZnVuY3Rpb24gdHlwZUxpbmsoKSB7CiAgICAgIGlmICh0aGlzLmRvYy50eXBlID09PSAnbGluaycpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgdXJsOiBmdW5jdGlvbiB1cmwoKSB7CiAgICAgIGlmICh0aGlzLmRvYy50eXBlID09PSAnbGluaycpIHJldHVybiAiIjsKICAgICAgcmV0dXJuICdodHRwOi8vMTI3LjAuMC4xOjgwMDAnICsgdGhpcy5kb2MuZmlsZSB8fCAiIjsKICAgIH0sCiAgICBjb21tZW50czogZnVuY3Rpb24gY29tbWVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbW0gfHwgW107CiAgICB9LAogICAgcmF0aW5nOiBmdW5jdGlvbiByYXRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvYy5yYXRpbmcgfHwgdW5kZWZpbmVkOwogICAgfQogIH0pLAogIHdhdGNoOiB7CiAgICB1cmw6IGZ1bmN0aW9uIHVybChuZXdfdmFsKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRDb21tZW50cycsIHRoaXMuZG9jLmlkKTsKICAgICAgdGhpcy5wYWdlTnVtID0gdGhpcy5kb2MucGFnZU51bSB8fCAxOwogICAgICBpZiAobmV3X3ZhbCAhPT0gIiIpIHRoaXMuZmV0Y2hQREYobmV3X3ZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGVNZXNzYWdlOiBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBjb250ZW50OiB0aGlzLm1lc3NhZ2UsCiAgICAgICAgaWQ6IHRoaXMuZG9jLmlkCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjcmVhdGVDb21tZW50JywgZGF0YSk7CiAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgfSwKICAgIGRyb3Bkb3duQ29tbWVudHM6IGZ1bmN0aW9uIGRyb3Bkb3duQ29tbWVudHMoKSB7CiAgICAgIGlmICghdGhpcy5kcm9wZG93bikgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnJhdGluZyIpLnN0eWxlLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSAwO2Vsc2UgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnJhdGluZyIpLnN0eWxlLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSAiMnZoIjsKICAgICAgdGhpcy5kcm9wZG93biA9ICF0aGlzLmRyb3Bkb3duOwogICAgfSwKICAgIGNoYW5nZVNjYWxlOiBmdW5jdGlvbiBjaGFuZ2VTY2FsZShzY2FsZSkgewogICAgICB0aGlzLnJlbmRlclBhZ2UodGhpcy5wYWdlTnVtKTsKICAgIH0sCiAgICBjaGFuZ2VQYWdlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5yZW5kZXJQYWdlKHRoaXMucGFnZU51bSk7CiAgICB9LAogICAgZmV0Y2hQREY6IGZ1bmN0aW9uIGZldGNoUERGKG5ld191cmwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gIi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZi5qcy8iLmNvbmNhdChwZGZqc0xpYi52ZXJzaW9uLCAiL3BkZi53b3JrZXIuanMiKTsgLy9jaGFuZ2UgbG9jYXRpb24KCiAgICAgIHBkZmpzTGliLmdldERvY3VtZW50KG5ld191cmwpLnByb21pc2UudGhlbihmdW5jdGlvbiAocGRmKSB7CiAgICAgICAgaWYgKF90aGlzLnBkZikgX3RoaXMucGRmLmRlc3Ryb3koKTsKICAgICAgICBfdGhpcy5wZGYgPSBwZGY7CiAgICAgICAgX3RoaXMucGFnZU1heCA9IF90aGlzLnBkZi5udW1QYWdlczsKCiAgICAgICAgX3RoaXMucmVuZGVyUGFnZShfdGhpcy5wYWdlTnVtKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVuZGVyUGFnZTogZnVuY3Rpb24gcmVuZGVyUGFnZShpKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlUmVuZGVyaW5nID0gdHJ1ZTsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGUtY2FudmFzJyk7CiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHRoaXMucGRmLmdldFBhZ2UoaSkudGhlbihmdW5jdGlvbiAocGFnZSkgewogICAgICAgIHZhciB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoewogICAgICAgICAgc2NhbGU6IF90aGlzMi5zY2FsZSAvIDEwMAogICAgICAgIH0pOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7CiAgICAgICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGg7CiAgICAgICAgdmFyIHJlbmRlclRhc2sgPSBwYWdlLnJlbmRlcih7CiAgICAgICAgICBjYW52YXNDb250ZXh0OiBjb250ZXh0LAogICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0CiAgICAgICAgfSk7CiAgICAgICAgcmVuZGVyVGFzay5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnBhZ2VSZW5kZXJpbmcgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoX3RoaXMyLnBhZ2VOdW1QZW5kaW5nICE9PSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzMi5yZW5kZXJQYWdlKF90aGlzMi5wYWdlTnVtUGVuZGluZyk7CgogICAgICAgICAgICBfdGhpczIucGFnZU51bVBlbmRpbmcgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBxdWV1ZVJlbmRlclBhZ2U6IGZ1bmN0aW9uIHF1ZXVlUmVuZGVyUGFnZShudW0pIHsKICAgICAgaWYgKHRoaXMucGFnZVJlbmRlcmluZykgdGhpcy5wYWdlTnVtUGVuZGluZyA9IG51bTtlbHNlIHRoaXMucmVuZGVyUGFnZShudW0pOwogICAgfSwKICAgIG9uUHJldlBhZ2U6IGZ1bmN0aW9uIG9uUHJldlBhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnBhZ2VOdW0gPD0gMSkgcmV0dXJuOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50RG9jLnBhZ2VOdW0tLTsKICAgICAgdGhpcy5wYWdlTnVtLS07CiAgICAgIHRoaXMucXVldWVSZW5kZXJQYWdlKHRoaXMucGFnZU51bSk7CiAgICB9LAogICAgb25OZXh0UGFnZTogZnVuY3Rpb24gb25OZXh0UGFnZSgpIHsKICAgICAgaWYgKHRoaXMucGFnZU51bSA+PSB0aGlzLnBhZ2VNYXgpIHJldHVybjsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudERvYy5wYWdlTnVtKys7CiAgICAgIHRoaXMucGFnZU51bSsrOwogICAgICB0aGlzLnF1ZXVlUmVuZGVyUGFnZSh0aGlzLnBhZ2VOdW0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["v-document.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"v-document\">\r\n        <div class=\"top-page-control\">\r\n            <div class=\"page-control\" v-show=\"!typeLink\">\r\n                <button class=\"prev-button no-outline\" @click=\"onPrevPage()\"></button>\r\n                <!--\r\n                <p class=\"page-control-text\">{{pageNum}}/{{pageMax}}</p>\r\n                <p class=\"page-control-text\">{{scale*100}}%</p>\r\n                -->\r\n                <input type=\"number\" value=\"1\" min=\"1\" max=\"10000\" v-model.lazy.number=\"pageNum\" v-on:change=\"changePage(pageNum)\">\r\n                <p class=\"page-control-text get-rid-of-margins\">/{{pageMax}}</p>\r\n                <input type=\"number\" value=\"1\" min=\"1\" max=\"10000\" v-model.lazy.number=\"scale\" v-on:change=\"changeScale(scale)\">\r\n                <p class=\"page-control-text get-rid-of-margins\">%</p>\r\n\r\n                <button class=\"next-button no-outline\" @click=\"onNextPage()\"></button>\r\n            </div>\r\n            <div class=\"rating\">\r\n                <p class=\"page-control-text\">{{rating}}</p>\r\n                <button class=\"comments-icon no-outline\" @click=\"dropdownComments()\"></button>\r\n                <div class=\"dropdown-comments\" v-show=\"dropdown\">\r\n                    <div class=\"comments\">\r\n                        <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment\">\r\n                            <div class=\"comment-avatar\">\r\n                                <img :src=\"'http://127.0.0.1:8000' + comment.user.image\" alt=\"\" class=\"avatar\">\r\n                            </div>\r\n                            <div class=\"comment-block\">\r\n                                <p class=\"list-item-text-search-bold\">{{comment.user.first_name + \" \"+ comment.user.last_name}}</p>\r\n                                <p class=\"list-item-text-search\">{{comment.content}}</p>\r\n                                <p class=\"comments-reply list-item-text-search-bold\">Reply</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"comments-add-block\">\r\n                        <textarea rows=\"5\" placeholder=\"Add a comment\" class=\"comments-add\" v-model=\"message\"></textarea>\r\n                        <button class=\"comments-add-button\" @click=\"createMessage()\"></button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pdf-document\" v-show=\"!typeLink\">\r\n            <canvas id=\"the-canvas\"></canvas>\r\n        </div>\r\n        <div v-show=\"typeLink\" class=\"pdf-document\">\r\n            <a class=\"link-to-see\" :href=\"doc.link\">{{doc.link}}</a>\r\n        </div>\r\n        <div class=\"document-title-block\">\r\n            <p class=\"document-title\">{{doc.title}}</p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import * as pdfjsLib from 'pdfjs-dist';\r\n    import {mapState} from 'vuex';\r\n    export default {\r\n        name: \"v-content\",\r\n        data: function(){\r\n            return {\r\n                message: \"\",\r\n                dropdown: false,\r\n                scale: 100,\r\n                pdf: undefined,\r\n                pages: [],\r\n                pageRendering: false,\r\n                pageNumPending: null,\r\n                pageMax: 1,\r\n                pageNum: 1\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState({doc:'currentDoc', comm: 'currentComments'}),\r\n            typeLink:function(){\r\n                if(this.doc.type === 'link')return true;\r\n                return false;\r\n            },\r\n            url() {\r\n                if(this.doc.type === 'link')return \"\";\r\n                return ('http://127.0.0.1:8000' + this.doc.file)  || \"\";\r\n            },\r\n            comments() {\r\n                return this.comm || [];\r\n            },\r\n            rating() {\r\n                return this.doc.rating || undefined;\r\n            }\r\n        },\r\n        watch: {\r\n            url:function(new_val){\r\n                this.$store.dispatch('getComments', this.doc.id);\r\n                this.pageNum = this.doc.pageNum || 1;\r\n                if(new_val !==\"\")this.fetchPDF(new_val);\r\n            }\r\n        },\r\n        methods: {\r\n            createMessage(){\r\n                let data = {\r\n                    content: this.message,\r\n                    id: this.doc.id\r\n                };\r\n                this.$store.dispatch('createComment', data);\r\n                this.message = '';\r\n            },\r\n            dropdownComments(){\r\n                if(!this.dropdown)document.querySelector(\".rating\").style.borderBottomLeftRadius = 0;\r\n                else document.querySelector(\".rating\").style.borderBottomLeftRadius = \"2vh\";\r\n                this.dropdown = !this.dropdown;\r\n            },\r\n            changeScale(scale){\r\n                this.renderPage(this.pageNum);\r\n            },\r\n            changePage(pageNum){\r\n                this.renderPage(this.pageNum);\r\n            },\r\n            fetchPDF(new_url) {\r\n                pdfjsLib.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.js`;//change location\r\n                pdfjsLib.getDocument(new_url).promise.then((pdf) => {\r\n                    if(this.pdf)this.pdf.destroy();\r\n                    this.pdf = pdf;\r\n                    this.pageMax = this.pdf.numPages;\r\n                    this.renderPage(this.pageNum);\r\n                });\r\n\r\n            },\r\n            renderPage(i) {\r\n                this.pageRendering = true;\r\n                let canvas = document.getElementById('the-canvas');\r\n                let context = canvas.getContext('2d');\r\n                this.pdf.getPage(i).then((page) => {\r\n                    let viewport = page.getViewport({scale: this.scale/100});\r\n                    canvas.height = viewport.height;\r\n                    canvas.width = viewport.width;\r\n                    let renderTask = page.render({\r\n                        canvasContext: context,\r\n                        viewport: viewport,\r\n                    });\r\n                    renderTask.promise.then(() => {\r\n                        this.pageRendering = false;\r\n                        if (this.pageNumPending !== null) {\r\n                            this.renderPage(this.pageNumPending);\r\n                            this.pageNumPending = null;\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            queueRenderPage(num) {\r\n                if (this.pageRendering) this.pageNumPending = num;\r\n                else this.renderPage(num);\r\n            },\r\n            onPrevPage() {\r\n                if (this.pageNum <= 1) return;\r\n                this.$store.state.currentDoc.pageNum--;\r\n                this.pageNum--;\r\n                this.queueRenderPage(this.pageNum);\r\n            },\r\n            onNextPage(){\r\n                if (this.pageNum >= this.pageMax)return;\r\n                this.$store.state.currentDoc.pageNum++;\r\n                this.pageNum++;\r\n                this.queueRenderPage(this.pageNum);\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .link-to-see {\r\n        font-size: 16px;\r\n    }\r\n    .document-title-block {\r\n        padding: 0;\r\n        position: absolute;\r\n        bottom: 0;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin: 0;\r\n        background: #9d9d9d;\r\n    }\r\n    .document-title{\r\n        color: white;\r\n        margin: 0;\r\n    }\r\n\r\n    .comments-add-button {\r\n        position: absolute;\r\n        top: 1vh;\r\n        margin: 0 0 0 1vh;\r\n\t\toutline: none;\r\n        width: 3.5vh;\r\n        height: 3.5vh;\r\n        border: none;\r\n        background-color: #5b5b5b;\r\n        background-size: 100%;\r\n        -webkit-mask-position-x: 50%;\r\n        -webkit-mask-position-y: 50%;\r\n        -webkit-mask: url(\"../../../node_modules/bootstrap-icons/icons/arrow-right-circle-fill.svg\") no-repeat 100%;\r\n        mask: url(\"../../../node_modules/bootstrap-icons/icons/arrow-right-circle-fill.svg\") no-repeat 100%;\r\n    }\r\n    .comments-add {\r\n        width: 100%;\r\n        height: 100%;\r\n        border: none;\r\n        outline: none;\r\n        background: white;\r\n        color: black;\r\n    }\r\n    .comments-add-block {\r\n        width: calc(90% - 3vh);\r\n        background-color: #ffffff;\r\n        height: 10vh;\r\n        margin: 1.5vh;\r\n    }\r\n    .comment-avatar {\r\n        width: 15%;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 2vh;\r\n    }\r\n    .comment-block {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 15%;\r\n        width: 85%;\r\n    }\r\n    .comments-reply {\r\n        cursor: pointer;\r\n    }\r\n    .comment {\r\n        border-bottom: 1px solid #9b9b9b;\r\n        width: auto;\r\n        height: 23vh;\r\n        display: block;\r\n        position: relative;\r\n    }\r\n    .comments {\r\n        height: 65vh;\r\n        overflow: auto;\r\n        background-color: #ffffff;\r\n        margin: 1.5vh;\r\n    }\r\n    .v-document {\r\n        display: block;\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #ffffff;\r\n    }\r\n    .pdf-document {\r\n        background-color: rgba(256,256,256,1);\r\n        position: fixed;\r\n        overflow: auto;\r\n        width: 90%;\r\n        padding: 5%;\r\n        height: calc(90% - 6vh);\r\n    }\r\n\r\n    .top-page-control {\r\n        position: relative;\r\n        top: 0;\r\n        height: 6vh;\r\n        width: 100%;\r\n        display: block;\r\n        margin: 0;\r\n        background-color: rgba(256,256,256,0);\r\n    }\r\n    .page-control {\r\n        position: relative;\r\n        margin-left: 30%;\r\n        background-color: #ffa854;\r\n        height: inherit;\r\n        display: inline-flex;\r\n        justify-content: center;\r\n        width: 20%;\r\n        border: none;\r\n        padding-left: 1vh;\r\n        padding-right: 1vh;\r\n        border-bottom-left-radius: 2vh;\r\n        border-bottom-right-radius: 2vh;\r\n    }\r\n    .rating {\r\n        position: absolute;\r\n        left: 60%;\r\n        margin-left: 0;\r\n        margin-right: auto;\r\n        background-color: #ffa854;\r\n        height: inherit;\r\n        display: inline-flex;\r\n        justify-content: space-between;\r\n        width: 40%;\r\n        border: none;\r\n        padding-left: 1vh;\r\n        padding-right: 1vh;\r\n        border-bottom-left-radius: 2vh;\r\n        /*\r\n        left: 80%;\r\n        display: inline;\r\n        width: 20%;\r\n        */\r\n    }\r\n    .prev-button, .next-button {\r\n        position: relative;\r\n        left: 0;\r\n        top: 1vh;\r\n        width: 4vh;\r\n        height: 4vh;\r\n        border: none;\r\n        background-color: #ffffff;\r\n        background-size: 100%;\r\n    }\r\n    .prev-button {\r\n        -webkit-mask: url(\"../../../node_modules/bootstrap-icons/icons/chevron-left.svg\") no-repeat 100%;\r\n        mask: url(\"../../../node_modules/bootstrap-icons/icons/chevron-left.svg\") no-repeat 100%;\r\n        -webkit-mask-position-x: 50%;\r\n        -webkit-mask-position-y: 50%;\r\n        left: 0.3vh;\r\n    }\r\n    .next-button {\r\n        -webkit-mask: url(\"../../../node_modules/bootstrap-icons/icons/chevron-right.svg\") no-repeat 100%;\r\n        mask: url(\"../../../node_modules/bootstrap-icons/icons/chevron-right.svg\") no-repeat 100%;\r\n        -webkit-mask-position-x: 50%;\r\n        -webkit-mask-position-y: 50%;\r\n    }\r\n    .page-control-text {\r\n        color: #ffffff;\r\n        position: relative;\r\n        top: 25%;\r\n        font-size: 17px;\r\n    }\r\n    .btn-comments {\r\n        position: relative;\r\n        top: 1vh;\r\n        width: 4vh;\r\n        height: 4vh;\r\n        background: rgba(256,256,256,0);\r\n        border: 2px solid #ffffff;\r\n        border-radius: 50%;\r\n    }\r\n    .dropdown-comments {\r\n        background-color: #f4f4f4;\r\n        width: 70vh;\r\n        height: 80vh;\r\n        position: absolute;\r\n        top: 6vh;\r\n        left: 0;\r\n        z-index: 1;\r\n    }\r\n</style>"],"sourceRoot":"src/components/home"}]}